<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="232px" preserveAspectRatio="none" style="width:562px;height:232px;background:#FFFFFF;" version="1.1" viewBox="0 0 562 232" width="562px" zoomAndPan="magnify"><defs><filter height="300%" id="f12qmh1fq28s3t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f12qmh1fq28s3t)" height="92.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="69.2188"/><rect fill="#FFFFFF" filter="url(#f12qmh1fq28s3t)" height="69.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136.5" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f12qmh1fq28s3t)" height="69.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="307.5" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f12qmh1fq28s3t)" height="92.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="506.5" y="69.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="59.2188" y2="170.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="141" x2="141" y1="59.2188" y2="170.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="312" x2="312" y1="59.2188" y2="170.2734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="511" x2="511" y1="59.2188" y2="170.2734"/><rect fill="#ADD8E6" filter="url(#f12qmh1fq28s3t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="68" x="5" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="12" y="44.1426">Program</text><rect fill="#ADD8E6" filter="url(#f12qmh1fq28s3t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="68" x="5" y="169.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="12" y="190.8066">Program</text><rect fill="#ADD8E6" filter="url(#f12qmh1fq28s3t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="105" x="87" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="94" y="44.1426">BusinessLogic</text><rect fill="#ADD8E6" filter="url(#f12qmh1fq28s3t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="105" x="87" y="169.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="94" y="190.8066">BusinessLogic</text><rect fill="#ADD8E6" filter="url(#f12qmh1fq28s3t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="63" x="279" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="49" x="286" y="26.5332">«static»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="288" y="44.1426">Logger</text><rect fill="#ADD8E6" filter="url(#f12qmh1fq28s3t)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="63" x="279" y="169.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="49" x="286" y="190.8066">«static»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="288" y="208.416">Logger</text><rect fill="#90EE90" filter="url(#f12qmh1fq28s3t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="471" y="22.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="478" y="44.1426">RabbitMQ</text><rect fill="#90EE90" filter="url(#f12qmh1fq28s3t)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="77" x="471" y="169.2734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="478" y="190.8066">RabbitMQ</text><rect fill="#FFFFFF" filter="url(#f12qmh1fq28s3t)" height="92.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="69.2188"/><rect fill="#FFFFFF" filter="url(#f12qmh1fq28s3t)" height="69.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136.5" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f12qmh1fq28s3t)" height="69.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="307.5" y="91.5703"/><rect fill="#FFFFFF" filter="url(#f12qmh1fq28s3t)" height="92.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="506.5" y="69.2188"/><polygon fill="#A80036" points="295.5,87.5703,305.5,91.5703,295.5,95.5703,299.5,91.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="301.5" y1="91.5703" y2="91.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53" y="86.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="64" y="86.7139">CreateChannel()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="305.5" x2="295.5" y1="121.9219" y2="117.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305.5" x2="295.5" y1="121.9219" y2="125.9219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="146.5" x2="306.5" y1="121.9219" y2="121.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="153.5" y="117.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="164.5" y="117.0654">Log(new LogRecord())</text><line style="stroke:#A80036;stroke-width:1.0;" x1="504.5" x2="494.5" y1="152.2734" y2="148.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="504.5" x2="494.5" y1="152.2734" y2="156.2734"/><line style="stroke:#A80036;stroke-width:1.0;" x1="317.5" x2="505.5" y1="152.2734" y2="152.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="324.5" y="147.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="335.5" y="147.417">channel.BasicPublish(Log)</text><!--MD5=[5fe173cf9539edebb525a51567c92fa7]
@startuml
/'!theme metal'/
Participant Program #LightBlue
Participant BusinessLogic #LightBlue
Participant Logger <<static>> #LightBlue
Participant RabbitMQ #LightGreen

autonumber
activate Program
activate RabbitMQ

Program -> Logger : CreateChannel()
activate Logger
activate BusinessLogic
BusinessLogic ->> Logger: Log(new LogRecord())
Logger ->> RabbitMQ: channel.BasicPublish(Log)


' ClientHandler -> NetworkStreamHandlerS : ReadCommand() : Command 
' NetworkStreamHandlerS -> NetworkStream : Read(CMD_LENGTH) : byte[]
' note right
' Esto se realiza cuando 
' se crea la conexión con el cliente
' end note

' autonumber
' ClientPresentation -> ClientPresentation : BuyGame(gameId) : void


' ClientHandler -> NetworkStreamHandlerS : ReadHeader() : string
' NetworkStreamHandlerS -> NetworkStream : Read(HEADER_LENGTH) : byte[]

' ClientPresentation -> CommandFactoryC : GetCommandHandler(BUY_GAME, nwsh) : BuyGameC
' activate CommandFactoryC
' create BuyGameC
' CommandFactoryC -> BuyGameC :  new BuyGame(nwsh)
' return new BuyGameC()
' deactivate CommandFactoryC

@enduml

@startuml
Participant Program #LightBlue
Participant BusinessLogic #LightBlue
Participant Logger <<static>> #LightBlue
Participant RabbitMQ #LightGreen

autonumber
activate Program
activate RabbitMQ

Program -> Logger : CreateChannel()
activate Logger
activate BusinessLogic
BusinessLogic ->> Logger: Log(new LogRecord())
Logger ->> RabbitMQ: channel.BasicPublish(Log)







@enduml

PlantUML version 1.2021.7(Sun May 23 09:40:07 UYT 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>